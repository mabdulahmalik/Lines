<script setup lang="ts">
import { useSidebarStore } from '@/stores/sidebar';
import { ref } from 'vue';
import { onClickOutside } from '@vueuse/core';
import SidebarItem from './SidebarItem.vue';
import { useProviderStore } from '@/stores/provider';
import { useCounters } from '@/hooks/useCounters';

const isDevMode = import.meta.env.MODE === 'development';

const { activeProvider } = useProviderStore();


const target = ref(null);
const sidebarStore = useSidebarStore();

const { liveQueueCount } = useCounters();

onClickOutside(target, () => {
  sidebarStore.isSidebarOpen = false;
});

const menuItemsDevelopemnt = ref([
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M8 17.0002H16M11.0177 2.76424L4.23539 8.03937C3.78202 8.39199 3.55534 8.5683 3.39203 8.7891C3.24737 8.98469 3.1396 9.20503 3.07403 9.4393C3 9.70376 3 9.99094 3 10.5653V17.8002C3 18.9203 3 19.4804 3.21799 19.9082C3.40973 20.2845 3.71569 20.5905 4.09202 20.7822C4.51984 21.0002 5.07989 21.0002 6.2 21.0002H17.8C18.9201 21.0002 19.4802 21.0002 19.908 20.7822C20.2843 20.5905 20.5903 20.2845 20.782 19.9082C21 19.4804 21 18.9203 21 17.8002V10.5653C21 9.99094 21 9.70376 20.926 9.4393C20.8604 9.20503 20.7526 8.98469 20.608 8.7891C20.4447 8.5683 20.218 8.39199 19.7646 8.03937L12.9823 2.76424C12.631 2.49099 12.4553 2.35436 12.2613 2.30184C12.0902 2.2555 11.9098 2.2555 11.7387 2.30184C11.5447 2.35436 11.369 2.49099 11.0177 2.76424Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,
    label: 'Hub',
    route: '#',
    children: [
      { label: 'Mine', route: '/hub/mine' },
      { label: 'Team', route: '/hub/team' },
      { label: 'Organization', route: '/hub/org' },
    ],
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M17.4001 19.3334H12C11.0058 19.3334 10.1999 18.5126 10.1999 17.5H12V15.6677C13.988 15.6677 15.5999 14.0257 15.5999 12V2C15.5999 1.44771 15.1522 1 14.5999 1H4C3.44772 1 3 1.44772 3 2V12C3 14.0248 4.61192 15.6666 6.59995 15.6666V17.5H8.40005C8.40005 19.5248 10.012 21.1666 12 21.1666H17.4001C18.3942 21.1666 19.2002 21.9874 19.2002 23H21C21 20.9752 19.3881 19.3334 17.4001 19.3334ZM4.79984 6.95843V5.58343H6.81237C7.19206 5.58343 7.49987 5.27562 7.49987 4.89593C7.49987 4.51623 7.19206 4.20843 6.81237 4.20843H4.79984V2.83343H13.8001V9.84978C13.4845 9.91963 13.1707 10.0162 12.8613 10.1471C11.5261 10.7111 9.98092 10.7548 8.54127 10.1479C7.38484 9.6603 6.06804 9.5635 4.79984 9.94108V8.33343H6.81237C7.19206 8.33343 7.49987 8.02562 7.49987 7.64593C7.49987 7.26623 7.19206 6.95843 6.81237 6.95843H4.79984ZM4.79984 12V11.8774C4.83602 11.8631 4.87355 11.8559 4.90973 11.8408C5.85906 11.4415 6.90505 11.4406 7.85303 11.8416C8.77158 12.2291 9.73684 12.4224 10.7007 12.4224C11.6668 12.4224 12.6318 12.2291 13.5495 11.8408C13.6314 11.8067 13.7164 11.7888 13.8001 11.7619V12C13.8001 13.0117 12.9923 13.8342 12 13.8342L6.60076 13.8334C5.60769 13.8334 4.79984 13.0106 4.79984 12Z" fill="currentColor"/>
            </svg>`,
    label: 'Encounters',
    route: '#',
    children: [
      { label: 'Live Queue', route: '/encounters/live-queue', badge: liveQueueCount },
      { label: 'Jobs', route: '/encounters/jobs' },
      { label: 'Lines', route: '/encounters/lines' },
      { label: 'Records', route: '/encounters/records' },
    ],
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path
              d="M21.2114 19.8526L16.5405 18.8145C15.8638 18.664 15.2783 18.1393 14.9739 17.5002H20.25V14.0536C20.25 11.4626 19.1992 9.11569 17.5 7.41673L18.2763 3.18938C18.3589 2.74004 18.1273 2.28862 17.7036 2.11763C13.8876 0.577417 9.86825 0.678254 6.296 2.11792C5.87224 2.28871 5.6409 2.74007 5.72345 3.18942L6.5 7.41646C4.80105 9.11542 3.75 11.4623 3.75 14.0534V16.5C3.75 17.0522 4.19772 17.5 4.75 17.5H9.02615C8.72228 18.1391 8.13735 18.6638 7.46058 18.8142L2.7897 19.8523C1.80575 20.0712 1 21.0755 1 22.0834C1 22.5896 1.4105 23 1.91671 23C2.42293 23 2.83343 22.5896 2.83343 22.0834C2.83343 21.9338 3.04105 21.6745 3.1879 21.6423L7.85713 20.6039C9.426 20.2555 10.6949 18.8824 11.0064 17.316C11.3287 17.434 11.6609 17.5 12 17.5C12.3402 17.5 12.6713 17.434 12.9936 17.3157C13.3052 18.8821 14.5754 20.2552 16.1429 20.6036L20.8121 21.642C20.959 21.6742 21.1666 21.9338 21.1666 22.0831C21.1666 22.5894 21.5771 23 22.0834 23C22.5896 23 23 22.5896 23 22.0834C23 21.0755 22.1943 20.0712 21.2114 19.8526ZM18.4166 14.0536V15.6668H15.0319C16.0461 14.3204 16.8205 12.3206 17.2107 9.96518C17.9933 11.1738 18.4166 12.5799 18.4166 14.0536ZM16.3434 3.5656L15.6363 7.41673H8.36422L7.65665 3.5656C10.498 2.58522 13.504 2.58632 16.3434 3.5656ZM5.58343 14.0536C5.58343 12.5802 6.00693 11.1733 6.7893 9.9649C7.18062 12.3197 7.95475 14.3204 8.96868 15.6668H5.58343V14.0536ZM8.52125 9.2499H15.4785C14.9227 13.2372 13.2325 15.6668 12 15.6668C10.7683 15.6668 9.07785 13.2372 8.52125 9.2499Z"
              fill="currentColor"
            />
          </svg>`,
    label: 'Clinicians',
    route: '#',
    children: [
      { label: 'Profiles', route: '/' },
      { label: 'Training', route: '/' },
      { label: 'Compliance', route: '/' },
      { label: 'Performance', route: '/' },
    ],
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M20.5 8V16.2C20.5 17.8802 20.5 18.7202 20.173 19.362C19.8854 19.9265 19.4265 20.3854 18.862 20.673C18.2202 21 17.3802 21 15.7 21H8.3C6.61984 21 5.77976 21 5.13803 20.673C4.57354 20.3854 4.1146 19.9265 3.82698 19.362C3.5 18.7202 3.5 17.8802 3.5 16.2V8M3.6 3H20.4C20.9601 3 21.2401 3 21.454 3.10899C21.6422 3.20487 21.7951 3.35785 21.891 3.54601C22 3.75992 22 4.03995 22 4.6V6.4C22 6.96005 22 7.24008 21.891 7.45399C21.7951 7.64215 21.6422 7.79513 21.454 7.89101C21.2401 8 20.9601 8 20.4 8H3.6C3.03995 8 2.75992 8 2.54601 7.89101C2.35785 7.79513 2.20487 7.64215 2.10899 7.45399C2 7.24008 2 6.96005 2 6.4V4.6C2 4.03995 2 3.75992 2.10899 3.54601C2.20487 3.35785 2.35785 3.20487 2.54601 3.10899C2.75992 3 3.03995 3 3.6 3ZM9.6 11.5H14.4C14.9601 11.5 15.2401 11.5 15.454 11.609C15.6422 11.7049 15.7951 11.8578 15.891 12.046C16 12.2599 16 12.5399 16 13.1V13.9C16 14.4601 16 14.7401 15.891 14.954C15.7951 15.1422 15.6422 15.2951 15.454 15.391C15.2401 15.5 14.9601 15.5 14.4 15.5H9.6C9.03995 15.5 8.75992 15.5 8.54601 15.391C8.35785 15.2951 8.20487 15.1422 8.10899 14.954C8 14.7401 8 14.4601 8 13.9V13.1C8 12.5399 8 12.2599 8.10899 12.046C8.20487 11.8578 8.35785 11.7049 8.54601 11.609C8.75992 11.5 9.03995 11.5 9.6 11.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>`,
    label: 'Inventory',
    route: '#',
    children: [
      { label: 'Organization', route: '/' },
      { label: 'Reconciliation', route: '/' },
    ],
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M8 13V17M16 11V17M12 7V17M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>`,
    label: 'Reporting',
    route: '/reporting',
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M7.20018 12H5.6001V13.5998H7.20018V12Z" fill="currentColor"/>
            <path d="M10.4001 12H8.80029V13.5998H10.4001V12Z" fill="currentColor"/>
            <path d="M10.4001 7.20018H8.80026V5.6001H7.20018V7.20018H5.6001V8.80026H7.20018V10.4001H8.80026V8.80026H10.4001V7.20018Z" fill="currentColor"/>
            <path d="M13.6001 12H12V13.5998H13.6001V12Z" fill="currentColor"/>
            <path d="M13.6001 8.80029H12V10.4004H13.6001V8.80029Z" fill="currentColor"/>
            <path d="M13.6001 5.6001H12V7.20018H13.6001V5.6001Z" fill="currentColor"/>
            <path d="M7.20018 15.2002H5.6001V16.8H7.20018V15.2002Z" fill="currentColor"/>
            <path d="M10.4001 15.2002H8.80029V16.8H10.4001V15.2002Z" fill="currentColor"/>
            <path d="M13.6001 15.2002H12V16.8H13.6001V15.2002Z" fill="currentColor"/>
            <path d="M16.7999 7.1999V3.3999C16.7999 2.84762 16.3522 2.3999 15.7999 2.3999H3.3999C2.84762 2.3999 2.3999 2.84762 2.3999 3.3999V21.5999H8.79998V19.9998H10.3998V21.5999H21.5999V8.1999C21.5999 7.64762 21.1522 7.1999 20.5999 7.1999H16.7999ZM11.9999 19.9998V18.4H7.1999V19.9998H3.99998V3.99998H15.1998V20.0001L11.9999 19.9998ZM19.9998 19.9998H16.7999V18.4H18.4V16.7999H16.7999V15.2001H18.4V13.5997H16.7999V11.9999H18.4V10.3998H16.7999V8.79974H19.9998V19.9998Z" fill="currentColor"/>
          </svg>`,
    label: 'Facilities',
    route: '/facilities',
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M22 8.5H2M2 12.5H5.54668C6.08687 12.5 6.35696 12.5 6.61813 12.5466C6.84995 12.5879 7.0761 12.6563 7.29191 12.7506C7.53504 12.8567 7.75977 13.0065 8.20924 13.3062L8.79076 13.6938C9.24023 13.9935 9.46496 14.1433 9.70809 14.2494C9.9239 14.3437 10.15 14.4121 10.3819 14.4534C10.643 14.5 10.9131 14.5 11.4533 14.5H12.5467C13.0869 14.5 13.357 14.5 13.6181 14.4534C13.85 14.4121 14.0761 14.3437 14.2919 14.2494C14.535 14.1433 14.7598 13.9935 15.2092 13.6938L15.7908 13.3062C16.2402 13.0065 16.465 12.8567 16.7081 12.7506C16.9239 12.6563 17.15 12.5879 17.3819 12.5466C17.643 12.5 17.9131 12.5 18.4533 12.5H22M2 7.2L2 16.8C2 17.9201 2 18.4802 2.21799 18.908C2.40973 19.2843 2.71569 19.5903 3.09202 19.782C3.51984 20 4.07989 20 5.2 20L18.8 20C19.9201 20 20.4802 20 20.908 19.782C21.2843 19.5903 21.5903 19.2843 21.782 18.908C22 18.4802 22 17.9201 22 16.8V7.2C22 6.0799 22 5.51984 21.782 5.09202C21.5903 4.7157 21.2843 4.40974 20.908 4.21799C20.4802 4 19.9201 4 18.8 4L5.2 4C4.0799 4 3.51984 4 3.09202 4.21799C2.7157 4.40973 2.40973 4.71569 2.21799 5.09202C2 5.51984 2 6.07989 2 7.2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>`,
    label: 'Billing',
    route: '#',
    children: [
      { label: 'Invoicing', route: '/' },
      { label: 'Rate Card', route: '/' },
      { label: 'Payments', route: '/' },
      { label: 'Accounts', route: '/' },
    ],
  },
]);

const menuItemsProduction = ref([
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M17.4001 19.3334H12C11.0058 19.3334 10.1999 18.5126 10.1999 17.5H12V15.6677C13.988 15.6677 15.5999 14.0257 15.5999 12V2C15.5999 1.44771 15.1522 1 14.5999 1H4C3.44772 1 3 1.44772 3 2V12C3 14.0248 4.61192 15.6666 6.59995 15.6666V17.5H8.40005C8.40005 19.5248 10.012 21.1666 12 21.1666H17.4001C18.3942 21.1666 19.2002 21.9874 19.2002 23H21C21 20.9752 19.3881 19.3334 17.4001 19.3334ZM4.79984 6.95843V5.58343H6.81237C7.19206 5.58343 7.49987 5.27562 7.49987 4.89593C7.49987 4.51623 7.19206 4.20843 6.81237 4.20843H4.79984V2.83343H13.8001V9.84978C13.4845 9.91963 13.1707 10.0162 12.8613 10.1471C11.5261 10.7111 9.98092 10.7548 8.54127 10.1479C7.38484 9.6603 6.06804 9.5635 4.79984 9.94108V8.33343H6.81237C7.19206 8.33343 7.49987 8.02562 7.49987 7.64593C7.49987 7.26623 7.19206 6.95843 6.81237 6.95843H4.79984ZM4.79984 12V11.8774C4.83602 11.8631 4.87355 11.8559 4.90973 11.8408C5.85906 11.4415 6.90505 11.4406 7.85303 11.8416C8.77158 12.2291 9.73684 12.4224 10.7007 12.4224C11.6668 12.4224 12.6318 12.2291 13.5495 11.8408C13.6314 11.8067 13.7164 11.7888 13.8001 11.7619V12C13.8001 13.0117 12.9923 13.8342 12 13.8342L6.60076 13.8334C5.60769 13.8334 4.79984 13.0106 4.79984 12Z" fill="currentColor"/>
            </svg>`,
    label: 'Encounters',
    route: '#',
    children: [
      { label: 'Live Queue', route: '/encounters/live-queue' },
      { label: 'Jobs', route: '/encounters/jobs' },
      { label: 'Lines', route: '/encounters/lines' },
      { label: 'Records', route: '/encounters/records' },
    ],
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M8 13V17M16 11V17M12 7V17M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>`,
    label: 'Reporting',
    route: '/reporting',
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M7.20018 12H5.6001V13.5998H7.20018V12Z" fill="currentColor"/>
            <path d="M10.4001 12H8.80029V13.5998H10.4001V12Z" fill="currentColor"/>
            <path d="M10.4001 7.20018H8.80026V5.6001H7.20018V7.20018H5.6001V8.80026H7.20018V10.4001H8.80026V8.80026H10.4001V7.20018Z" fill="currentColor"/>
            <path d="M13.6001 12H12V13.5998H13.6001V12Z" fill="currentColor"/>
            <path d="M13.6001 8.80029H12V10.4004H13.6001V8.80029Z" fill="currentColor"/>
            <path d="M13.6001 5.6001H12V7.20018H13.6001V5.6001Z" fill="currentColor"/>
            <path d="M7.20018 15.2002H5.6001V16.8H7.20018V15.2002Z" fill="currentColor"/>
            <path d="M10.4001 15.2002H8.80029V16.8H10.4001V15.2002Z" fill="currentColor"/>
            <path d="M13.6001 15.2002H12V16.8H13.6001V15.2002Z" fill="currentColor"/>
            <path d="M16.7999 7.1999V3.3999C16.7999 2.84762 16.3522 2.3999 15.7999 2.3999H3.3999C2.84762 2.3999 2.3999 2.84762 2.3999 3.3999V21.5999H8.79998V19.9998H10.3998V21.5999H21.5999V8.1999C21.5999 7.64762 21.1522 7.1999 20.5999 7.1999H16.7999ZM11.9999 19.9998V18.4H7.1999V19.9998H3.99998V3.99998H15.1998V20.0001L11.9999 19.9998ZM19.9998 19.9998H16.7999V18.4H18.4V16.7999H16.7999V15.2001H18.4V13.5997H16.7999V11.9999H18.4V10.3998H16.7999V8.79974H19.9998V19.9998Z" fill="currentColor"/>
          </svg>`,
    label: 'Facilities',
    route: '/facilities',
  },
]);
const menuItems = isDevMode? menuItemsDevelopemnt.value: menuItemsProduction.value

const menuBottomItems = ref([
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18.7273 14.7273C18.6063 15.0015 18.5702 15.3056 18.6236 15.6005C18.6771 15.8954 18.8177 16.1676 19.0273 16.3818L19.0818 16.4364C19.2509 16.6052 19.385 16.8057 19.4765 17.0265C19.568 17.2472 19.6151 17.4838 19.6151 17.7227C19.6151 17.9617 19.568 18.1983 19.4765 18.419C19.385 18.6397 19.2509 18.8402 19.0818 19.0091C18.913 19.1781 18.7124 19.3122 18.4917 19.4037C18.271 19.4952 18.0344 19.5423 17.7955 19.5423C17.5565 19.5423 17.3199 19.4952 17.0992 19.4037C16.8785 19.3122 16.678 19.1781 16.5091 19.0091L16.4545 18.9545C16.2403 18.745 15.9682 18.6044 15.6733 18.5509C15.3784 18.4974 15.0742 18.5335 14.8 18.6545C14.5311 18.7698 14.3018 18.9611 14.1403 19.205C13.9788 19.4489 13.8921 19.7347 13.8909 20.0273V20.1818C13.8909 20.664 13.6994 21.1265 13.3584 21.4675C13.0174 21.8084 12.5549 22 12.0727 22C11.5905 22 11.1281 21.8084 10.7871 21.4675C10.4461 21.1265 10.2545 20.664 10.2545 20.1818V20.1C10.2475 19.7991 10.1501 19.5073 9.97501 19.2625C9.79991 19.0176 9.55521 18.8312 9.27273 18.7273C8.99853 18.6063 8.69437 18.5702 8.39947 18.6236C8.10456 18.6771 7.83244 18.8177 7.61818 19.0273L7.56364 19.0818C7.39478 19.2509 7.19425 19.385 6.97353 19.4765C6.7528 19.568 6.51621 19.6151 6.27727 19.6151C6.03834 19.6151 5.80174 19.568 5.58102 19.4765C5.36029 19.385 5.15977 19.2509 4.99091 19.0818C4.82186 18.913 4.68775 18.7124 4.59626 18.4917C4.50476 18.271 4.45766 18.0344 4.45766 17.7955C4.45766 17.5565 4.50476 17.3199 4.59626 17.0992C4.68775 16.8785 4.82186 16.678 4.99091 16.5091L5.04545 16.4545C5.25503 16.2403 5.39562 15.9682 5.4491 15.6733C5.50257 15.3784 5.46647 15.0742 5.34545 14.8C5.23022 14.5311 5.03887 14.3018 4.79497 14.1403C4.55107 13.9788 4.26526 13.8921 3.97273 13.8909H3.81818C3.33597 13.8909 2.87351 13.6994 2.53253 13.3584C2.19156 13.0174 2 12.5549 2 12.0727C2 11.5905 2.19156 11.1281 2.53253 10.7871C2.87351 10.4461 3.33597 10.2545 3.81818 10.2545H3.9C4.2009 10.2475 4.49273 10.1501 4.73754 9.97501C4.98236 9.79991 5.16883 9.55521 5.27273 9.27273C5.39374 8.99853 5.42984 8.69437 5.37637 8.39947C5.3229 8.10456 5.18231 7.83244 4.97273 7.61818L4.91818 7.56364C4.74913 7.39478 4.61503 7.19425 4.52353 6.97353C4.43203 6.7528 4.38493 6.51621 4.38493 6.27727C4.38493 6.03834 4.43203 5.80174 4.52353 5.58102C4.61503 5.36029 4.74913 5.15977 4.91818 4.99091C5.08704 4.82186 5.28757 4.68775 5.50829 4.59626C5.72901 4.50476 5.96561 4.45766 6.20455 4.45766C6.44348 4.45766 6.68008 4.50476 6.9008 4.59626C7.12152 4.68775 7.32205 4.82186 7.49091 4.99091L7.54545 5.04545C7.75971 5.25503 8.03183 5.39562 8.32674 5.4491C8.62164 5.50257 8.9258 5.46647 9.2 5.34545H9.27273C9.54161 5.23022 9.77093 5.03887 9.93245 4.79497C10.094 4.55107 10.1807 4.26526 10.1818 3.97273V3.81818C10.1818 3.33597 10.3734 2.87351 10.7144 2.53253C11.0553 2.19156 11.5178 2 12 2C12.4822 2 12.9447 2.19156 13.2856 2.53253C13.6266 2.87351 13.8182 3.33597 13.8182 3.81818V3.9C13.8193 4.19253 13.906 4.47834 14.0676 4.72224C14.2291 4.96614 14.4584 5.15749 14.7273 5.27273C15.0015 5.39374 15.3056 5.42984 15.6005 5.37637C15.8954 5.3229 16.1676 5.18231 16.3818 4.97273L16.4364 4.91818C16.6052 4.74913 16.8057 4.61503 17.0265 4.52353C17.2472 4.43203 17.4838 4.38493 17.7227 4.38493C17.9617 4.38493 18.1983 4.43203 18.419 4.52353C18.6397 4.61503 18.8402 4.74913 19.0091 4.91818C19.1781 5.08704 19.3122 5.28757 19.4037 5.50829C19.4952 5.72901 19.5423 5.96561 19.5423 6.20455C19.5423 6.44348 19.4952 6.68008 19.4037 6.9008C19.3122 7.12152 19.1781 7.32205 19.0091 7.49091L18.9545 7.54545C18.745 7.75971 18.6044 8.03183 18.5509 8.32674C18.4974 8.62164 18.5335 8.9258 18.6545 9.2V9.27273C18.7698 9.54161 18.9611 9.77093 19.205 9.93245C19.4489 10.094 19.7347 10.1807 20.0273 10.1818H20.1818C20.664 10.1818 21.1265 10.3734 21.4675 10.7144C21.8084 11.0553 22 11.5178 22 12C22 12.4822 21.8084 12.9447 21.4675 13.2856C21.1265 13.6266 20.664 13.8182 20.1818 13.8182H20.1C19.8075 13.8193 19.5217 13.906 19.2778 14.0676C19.0339 14.2291 18.8425 14.4584 18.7273 14.7273Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>`,
    label: 'Settings',
    route: '#',
    children: [
      { label: 'Encounters', route: '/settings/encounters' },
      { label: 'Facilities', route: '/settings/facilities' },
      { label: 'Users', route: '/settings/users' },
    ],
  },
]);
</script>

<template>
  <aside
    class="fixed left-0 top-0 pt-16 lg:pt-20 z-[45] flex h-screen lg:h-[calc(100vh - 80px)] w-sidebar flex-col overflow-y-hidden bg-brand-200 duration-300 ease-linear"
    :class="{
      'lg:translate-x-0': sidebarStore.isLgSidebarOpen,
      'lg:-translate-x-full': !sidebarStore.isLgSidebarOpen,
      'translate-x-0': sidebarStore.isSidebarOpen,
      '-translate-x-full': !sidebarStore.isSidebarOpen,
    }"
    ref="target"
  >
    <!-- Sidebar Header -->
    <div class="p-4 pb-0">
      <div class="flex items-center gap-2 py-2">
        <div class="w-40 flex-1">
          <h4 class="truncate text-sm font-semibold text-slate-900">
            {{ activeProvider?.name }}
          </h4>
          <p class="text-xs font-medium text-slate-500">{{ activeProvider?.clinicians }}</p>
        </div>
      </div>
    </div>
    <!-- Sidebar Menu -->
    <div class="no-scroll flex flex-col overflow-y-auto flex-1 justify-between">
      <nav class="pt-4 lg:pt-6 px-4 text-slate-900">
        <ul class="flex flex-col gap-1.5">
          <SidebarItem
            v-for="(menuItem, index) in menuItems"
            :item="menuItem"
            :key="index"
            :index="index"
          />
        </ul>
      </nav>
      <nav class="mt-1.5 pb-4 px-4 text-slate-900 hidden lg:block">
        <ul class="flex flex-col gap-1.5">
          <SidebarItem
            v-for="(menuItem, index) in menuBottomItems"
            :item="menuItem"
            :key="index"
            :index="index"
          />
        </ul>
      </nav>
    </div>
  </aside>
</template>
